--// UI erstellen
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UIS = game:GetService("UserInputService")

local auraEnabled = false
local auraRange = 20 -- Standardreichweite

-- UI
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 200, 0, 150)
Frame.Position = UDim2.new(0, 50, 0, 100)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderSizePixel = 0

local ToggleButton = Instance.new("TextButton", Frame)
ToggleButton.Size = UDim2.new(1, 0, 0, 30)
ToggleButton.Position = UDim2.new(0, 0, 0, 0)
ToggleButton.Text = "Kill Aura: OFF"
ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ToggleButton.TextColor3 = Color3.new(1, 1, 1)

local RangeBox = Instance.new("TextBox", Frame)
RangeBox.Size = UDim2.new(1, 0, 0, 30)
RangeBox.Position = UDim2.new(0, 0, 0, 40)
RangeBox.PlaceholderText = "Kill Aura Range (z. B. 20)"
RangeBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
RangeBox.TextColor3 = Color3.new(1, 1, 1)

-- Toggle Funktion
ToggleButton.MouseButton1Click:Connect(function()
    auraEnabled = not auraEnabled
    ToggleButton.Text = "Kill Aura: " .. (auraEnabled and "ON" or "OFF")
end)

-- Range setzen
RangeBox.FocusLost:Connect(function()
    local val = tonumber(RangeBox.Text)
    if val and val > 0 then
        auraRange = val
    end
end)

-- Kill Aura Funktion
task.spawn(function()
    while true do
        if auraEnabled then
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    local targetHRP = player.Character.HumanoidRootPart
                    local myHRP = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                    if myHRP and (myHRP.Position - targetHRP.Position).Magnitude <= auraRange then
                        -- Schlag auslÃ¶sen
                        local args = {
                            [1] = player.Character
                        }
                        game:GetService("ReplicatedStorage").rEvents.hitRemote:FireServer(unpack(args))
                    end
                end
            end
        end
        task.wait(0.1)
    end
end)
